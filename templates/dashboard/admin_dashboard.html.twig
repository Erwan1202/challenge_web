{% extends 'dashboard/base_dashboard.html.twig' %}

{% block title %}Tableau de bord Admin{% endblock %}

{% block nav %}
    <nav class="adminNav">
        <a href="#" class="headerAdminLinks">
            <img src="{{ asset('images/accueilClair.png') }}" alt="Tableau de bord">
        </a>
        <a href="#accounts" class="headerAdminLinks">
            <img src="{{ asset('images/carteClair.png') }}" alt="Comptes">
        </a>
        <a href="#transactions" class="headerAdminLinks">
            <img src="{{ asset('images/transactionClair.png') }}" alt="Transactions">
        </a>
    </nav>
{% endblock %}

{% block usersList %}
    <div class="userAccountsList">
        {% for user in users %}
            <a href="" class="userAccountsItem">
                <div>
                    <p>{{ user.nom }}</p> {# Affiche le nom de l'utilisateur #}
                    <p>{{ user.prenom }}</p> {# Affiche le prénom de l'utilisateur #}
                </div>
                <div>
                    <p>{{ user.email }}</p> {# Affiche l'email de l'utilisateur #}
                    <p>{{ user.telephone }}</p> {# Affiche le téléphone de l'utilisateur #}
                </div>
            </a>
        {% else %}
            <p>Aucun utilisateur trouvé.</p> {# Message si aucun utilisateur #}
        {% endfor %}
    </div>
{% endblock %}

{% block dashboard_title %}Tableau de bord Admin{% endblock %}

{% block dashboard_content %}
    <div class="accountsListContainer" id="accounts">
        <h2>Mes comptes</h2>    
        <div class="accountsList">
            {% for compte in comptes %}
                <div class="accountsItem">
                    <div>
                        <div>
                            <h3>{{ compte.numeroDeCompte }}</h3> {# Affiche le numéro du compte #}
                            <p>{{ compte.type }}</p> {# Affiche le type de compte (épargne, courant...) #}
                        </div>
                        <a href=""><img src="{{ asset('images/cadena.png') }}" alt="Bloquer"></a> {# Bouton pour bloquer le compte #}
                    </div>
                    <p>{{ compte.solde }} €</p> {# Affiche le solde du compte #}
                </div>
            {% else %}
                <p>Aucun compte trouvé.</p> {# Message si aucun compte trouvé #}
            {% endfor %}
            <a href="" class="accountsItemAdd">
                <img src="{{ asset('images/ajouter.png') }}" alt="Ajouter">
                <p>Ajouter un compte</p>
            </a>
        </div>
    </div>

    <div class="transactionsContainer" id="transactions">
        <div class="transactionsActions">
            <h2>Transactions</h2>
            <div class="transactionsActionsList">
                <a href="" class="transactionsActionsLinks">
                    <img src="{{ asset('images/carteClair.png') }}" alt="Dépôt">
                    <p>Dépôt</p>
                </a>
                <a href="" class="transactionsActionsLinks">
                    <img src="{{ asset('images/carteClair.png') }}" alt="Retrait">
                    <p>Retrait</p>
                </a>
                <a href="" class="transactionsActionsLinks">
                    <img src="{{ asset('images/carteClair.png') }}" alt="Virement">
                    <p>Virement</p>
                </a>
            </div>
        </div>

        <div class="transactionsHistory">
            <h2>Historique des transactions</h2>
            <div class="transactionsHistoryList">
                {% for transaction in transactions %}
                    <div class="transactionsHistoryItem">
                        <div>
                            <p>{{ transaction.dateHeure|date('d/m/Y H:i') }}</p> {# Affiche la date et l'heure de la transaction #}
                            <p>{{ transaction.type }}</p> {# Affiche le type de la transaction #}
                            <p>{{ transaction.statut }}</p> {# Affiche le statut de la transaction #}
                        </div>
                        <p>{{ transaction.montant }} €</p> {# Affiche le montant de la transaction #}
                        <a href=""><img src="{{ asset('images/croix.png') }}" alt="Annuler la transaction"></a> {# Bouton pour annuler la transaction #}
                    </div>
                {% else %}
                    <p>Aucune transaction trouvée.</p> {# Message si aucune transaction trouvée #}
                {% endfor %}
            </div>
        </div>
    </div>

{% endblock %}
